<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Cation Generator for Instagram Captions</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --bg: #0b1020;
      --card: #121935;
      --muted: #94a3b8;
      --text: #e6eaf2;
      --accent: #7c3aed;
      --accent-2: #22d3ee;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 14px;
    }
    html, body {
      background: radial-gradient(1200px 800px at 80% -20%, rgba(124,58,237,.25), transparent 60%),
                  radial-gradient(900px 600px at -10% 20%, rgba(34,211,238,.18), transparent 60%),
                  var(--bg);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      min-height: 100vh;
    }
    .glass {
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.08);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    .card {
      background: linear-gradient(180deg, rgba(18,25,53,.9), rgba(18,25,53,.7));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .btn {
      border-radius: 12px;
      padding: 12px 18px;
      font-weight: 600;
      transition: all .2s ease;
      border: 1px solid rgba(255,255,255,.1);
    }
    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(124,58,237,.25);
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), #4f46e5);
      color: white;
    }
    .btn-secondary {
      background: linear-gradient(135deg, rgba(124,58,237,.2), rgba(34,211,238,.2));
      color: var(--text);
    }
    .tag {
      background: rgba(124,58,237,.15);
      border: 1px solid rgba(124,58,237,.35);
      color: #d6bcfa;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
    }
    .input, .select, .textarea {
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.1);
      border-radius: 12px;
      padding: 12px 14px;
      color: var(--text);
      width: 100%;
      outline: none;
      transition: border .2s ease, box-shadow .2s ease;
    }
    .input:focus, .select:focus, .textarea:focus {
      border-color: rgba(124,58,237,.6);
      box-shadow: 0 0 0 4px rgba(124,58,237,.15);
    }
    .divider {
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent);
    }
    .sparkle {
      position: absolute;
      width: 6px; height: 6px;
      background: radial-gradient(circle, #fff, rgba(255,255,255,0));
      border-radius: 50%;
      filter: blur(1px);
      opacity: .7;
      animation: float 8s infinite ease-in-out;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) translateX(0); }
      50% { transform: translateY(-10px) translateX(5px); }
    }
    .grid-auto {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 1rem;
    }
    @media (max-width: 1024px) {
      .grid-auto { grid-template-columns: repeat(6, 1fr); }
    }
    @media (max-width: 640px) {
      .grid-auto { grid-template-columns: repeat(1, 1fr); }
    }
    .badge {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(34,211,238,.15);
      border: 1px solid rgba(34,211,238,.35);
      color: #a5f3fc;
      font-weight: 700;
      letter-spacing: .02em;
    }
    .copy-toast {
      position: fixed;
      bottom: 16px;
      right: 16px;
      background: rgba(16,185,129,.15);
      border: 1px solid rgba(16,185,129,.35);
      color: #d1fae5;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 700;
      opacity: 0;
      transform: translateY(10px);
      transition: all .2s ease;
      z-index: 50;
    }
    .copy-toast.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <span class="sparkle" style="top:10%;left:10%;animation-delay:.2s"></span>
    <span class="sparkle" style="top:20%;left:70%;animation-delay:1.2s"></span>
    <span class="sparkle" style="top:60%;left:20%;animation-delay:.8s"></span>
    <span class="sparkle" style="top:80%;left:80%;animation-delay:2s"></span>
  </div>

  <header class="container mx-auto px-6 pt-8 pb-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-cyan-400 flex items-center justify-center shadow-lg">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M12 2l2.39 4.84L20 8.27l-4 3.9.94 5.49L12 15.77l-4.94 1.89L8 12.17l-4-3.9 5.61-1.43L12 2z" stroke="white" stroke-width="1.2" stroke-linejoin="round"/>
          </svg>
        </div>
        <div>
          <div class="text-xl font-extrabold tracking-tight">AI Cation Generator</div>
          <div class="text-xs text-slate-400 -mt-1">Instagram captions, powered by AI</div>
        </div>
      </div>
      <div class="hidden md:flex items-center gap-2">
        <span class="badge">Beta</span>
        <span class="text-slate-400 text-sm">No sign-up needed</span>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-6 pb-20">
    <section class="grid-auto">
      <div class="col-span-12 lg:col-span-5 card p-6 relative overflow-hidden">
        <div class="absolute -top-20 -right-20 w-64 h-64 rounded-full bg-gradient-to-br from-violet-500/20 to-cyan-400/20 blur-3xl"></div>
        <div class="relative z-10">
          <div class="flex items-center gap-3 mb-4">
            <span class="tag">Creator Tools</span>
            <span class="text-slate-400 text-sm">Generate, customize, export</span>
          </div>
          <h1 class="text-3xl md:text-4xl font-extrabold leading-tight">Make Instagram captions that pop</h1>
          <p class="text-slate-300 mt-3">Enter your keywords, choose a tone and language, then hit generate. Get 3 unique, engaging captions tailored to your vibe.</p>

          <div class="divider my-6"></div>

          <form id="genForm" class="space-y-4">
            <div>
              <label class="block text-sm text-slate-300 mb-2">Keywords (comma or newline separated)</label>
              <textarea class="textarea h-28" id="keywords" placeholder="e.g., coffee, sunset, chill"></textarea>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label class="block text-sm text-slate-300 mb-2">Tone</label>
                <select class="select" id="tone">
                  <option>Funny</option>
                  <option>Motivational</option>
                  <option>Romantic</option>
                  <option>Aesthetic</option>
                  <option>Sarcastic</option>
                  <option>Inspirational</option>
                </select>
              </div>
              <div>
                <label class="block text-sm text-slate-300 mb-2">Language</label>
                <select class="select" id="language">
                  <option>English</option>
                  <option>Hindi</option>
                  <option>Spanish</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <div>
                <label class="block text-sm text-slate-300 mb-2">Length</label>
                <select class="select" id="length">
                  <option>Short</option>
                  <option>Medium</option>
                  <option>Long</option>
                </select>
              </div>
              <div>
                <label class="block text-sm text-slate-300 mb-2">API Key (Optional)</label>
                <input class="input" id="apiKey" placeholder="Paste Gemini or OpenAI key"/>
                <div class="text-xs text-slate-400 mt-1">Used to enhance creativity. Not required for basic generation.</div>
              </div>
            </div>
            <div class="flex flex-wrap gap-3 pt-2">
              <button type="submit" class="btn btn-primary">Generate Captions</button>
              <button type="button" id="shuffleBtn" class="btn btn-secondary">Shuffle Style</button>
              <button type="button" id="clearBtn" class="btn btn-secondary">Clear</button>
            </div>
          </form>
        </div>
      </div>

      <div class="col-span-12 lg:col-span-7 card p-6">
        <div class="flex items-center justify-between">
          <h2 class="text-xl font-bold">Your Captions</h2>
          <div class="text-slate-400 text-sm">Copy & share anywhere</div>
        </div>
        <div class="divider my-4"></div>
        <div id="captionsContainer" class="space-y-4">
          <div class="p-4 rounded-xl bg-slate-900/40 border border-white/10">
            <div class="text-slate-400 text-sm">No captions yet. Fill the form and generate!</div>
          </div>
        </div>
        <div class="flex items-center justify-between mt-6">
          <div class="text-slate-400 text-sm">Tip: Use #tags like #CoffeeVibes or #SunsetGoals</div>
          <div class="flex gap-2">
            <button id="downloadBtn" class="btn btn-secondary">Download</button>
            <button id="copyAllBtn" class="btn btn-primary">Copy All</button>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="card p-5">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 rounded-lg bg-violet-500/20 flex items-center justify-center">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 3v18M3 12h18" stroke="#a78bfa" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <div class="font-semibold">3 Unique Styles</div>
        </div>
        <p class="text-slate-400 text-sm mt-2">We craft different tones from the same inputs: funny, romantic, aesthetic, and more.</p>
      </div>
      <div class="card p-5">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 rounded-lg bg-cyan-500/20 flex items-center justify-center">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 7h16M4 12h10M4 17h7" stroke="#67e8f9" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <div class="font-semibold">Smart Hashtags</div>
        </div>
        <p class="text-slate-400 text-sm mt-2">Each caption includes relevant hashtags tailored to your keywords and platform.</p>
      </div>
      <div class="card p-5">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 rounded-lg bg-emerald-500/20 flex items-center justify-center">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M5 12l4 4L19 6" stroke="#6ee7b7" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <div class="font-semibold">Ready to Share</div>
        </div>
        <p class="text-slate-400 text-sm mt-2">Copy, download, or share directly. Everything is client-side and private.</p>
      </div>
    </section>
  </main>

  <div id="toast" class="copy-toast">Copied to clipboard âœ“</div>

  <script>
    // Utilities
    const $ = (s, root = document) => root.querySelector(s);
    const $$ = (s, root = document) => Array.from(root.querySelectorAll(s));
    const rand = (arr) => arr[Math.floor(Math.random() * arr.length)];
    const sample = (arr) => arr[Math.floor(Math.random() * arr.length)];

    const tonePresets = {
      Funny: [
        "Bro, this {kw} is the kind of {kw2} that makes my problems look like snacks.",
        "Warning: This {kw} may cause intense feelings of {kw2} and spontaneous {emoji}. Stay safe.",
        "Shipping this {kw} with extra {kw2} and zero regrets. Yo."
      ],
      Motivational: [
        "Level up your day with every {kw}. Youâ€™ve got this.",
        "Small steps, big vibes. Let your {kw} fuel the journey.",
        "One {kw} at a time. Your future self is already cheering."
      ],
      Romantic: [
        "Our {kw} is just the beginning of a forever {kw2}.",
        "Under this {kw}, I found my favorite version of you. Forever.",
        "Two hearts, one {kw}, endless {kw2}. Sweet dreams."
      ],
      Aesthetic: [
        "Soft {kw}, soft feelings. The world is {kw2}.",
        "This {kw} exists in a mood: muted, magnetic, {emoji}.",
        "Frame-worthy {kw}, mood-level {kw2}."
      ],
      Sarcastic: [
        "Oh wow, I didnâ€™t expect this {kw} to be this dramaticâ€¦ again.",
        "Thanks for the {kw}, exactly what I needed to survive another {kw2}.",
        "This {kw} is so {kw2}, Iâ€™m questioning my life choices and my snacks."
      ],
      Inspirational: [
        "Let this {kw} remind you to chase the {kw2} in your soul.",
        "From ordinary moments to extraordinary vibes: {kw}.",
        "Carry this {kw} with youâ€”your path starts now."
      ]
    };

    const emojiPool = ["âœ¨","â˜•","ðŸŒ…","ðŸŽ§","ðŸ“š","ðŸ“¸","ðŸ§˜","ðŸš´","ðŸŽ¸","ðŸŽ¨","â¤ï¸","ðŸ”¥","ðŸŒˆ","ðŸŒŠ","ðŸµ","ðŸ§‹","ðŸ“·","ðŸŒ ","ðŸ€","ðŸŒ™","ðŸ’œ"];

    const hashtagBuilder = (keywords) => {
      const base = keywords.slice(0, 5);
      const arr = [];
      base.forEach(k => {
        arr.push(`#${k.trim().replace(/\s+/g,'')}`);
        if (k.toLowerCase().includes('sunset')) arr.push("#SunsetVibes");
        if (k.toLowerCase().includes('coffee')) arr.push("#CoffeeTime");
        if (k.toLowerCase().includes('travel')) arr.push("#Wanderlust");
        if (k.toLowerCase().includes('love')) arr.push("#LoveWins");
        if (k.toLowerCase().includes('work')) arr.push("#WorkLifeBalance");
      });
      if (arr.length < 8) {
        const extras = ["#InstaContent","#Trending","#DailyDose","#Vibes","#Motivation","#Inspo","#Creator"];
        extras.forEach(e => { if (!arr.includes(e)) arr.push(e); });
      }
      return arr.slice(0, 12);
    };

    const languageMap = {
      English: { open: "Hey", end: "ðŸ”¥", filler: ["whoop", "seriously", "shop", "game", "bop"], color: "midnight" },
      Hindi:   { open: "à¤¨à¤®à¤¸à¥à¤¤à¥‡", end: "ðŸ”¥", filler: ["à¤µà¤¾à¤¹", "à¤¦à¥‡à¤–à¥‹", "à¤–à¤¬à¤°", "à¤‡à¤¶à¥à¤•", "à¤Ÿà¤¾à¤‡à¤®"], color: "golden" },
      Spanish: { open: "Â¡Hola!", end: "ðŸ”¥", filler: ["mira", "esto", "vale", "cuidao", "bien"], color: "sunset" }
    };

    const fillerTemplate = (tone) => {
      const t = {
        Funny: ["seriously", "no cap", "whoop", "deal", "bop"],
        Motivational: ["go", "now", "today", "step", "power"],
        Romantic: ["always", "forever", "sweet", "heart", "together"],
        Aesthetic: ["soft", "muted", "glow", "calm", "breeze"],
        Sarcastic: ["ugh", "again", "sigh", "drama", "deal"],
        Inspirational: ["rise", "trust", "bold", "start", "shine"]
      }[tone] || ["keep", "go", "now", "love", "vibe"];
      return t;
    };

    const lengthAdjust = (text, len) => {
      if (len === "Short") return text.length > 120 ? text.slice(0, 117) + "â€¦" : text;
      if (len === "Medium") return text.length > 180 ? text.slice(0, 177) + "â€¦" : text;
      return text; // Long keeps full
    };

    const generateCaption = (tone, language, keywords, len) => {
      const lang = languageMap[language] || languageMap.English;
      const preset = tonePresets[tone] || tonePresets.English;
      const kw = keywords[0]?.trim() || "moment";
      const kw2 = keywords[1]?.trim() || "grit";
      const emoji = sample(emojiPool);

      const base = rand(preset)
        .replace("{kw}", kw)
        .replace("{kw2}", kw2)
        .replace("{emoji}", emoji);

      const filler = sample(fillerTemplate(tone));
      const opening = `${lang.open} ${sample(["dude","chill","squad","here","me"])}, `;
      const closer = ` ${sample(["this", "it", "that", "thing", "vibe"])} is our ${sample(["weekly","daily","life","fuel","glow"])} ${lang.end}`;

      let caption = `${opening}${base} ${filler}.`;
      caption = lengthAdjust(caption, len);
      return caption;
    };

    const buildHashtags = (keywords, tone, language) => {
      let kws = keywords.filter(Boolean).map(k => k.trim());
      if (kws.length === 0) kws = ["vibes", "life", "growth", "love", "travel"];
      const hash = hashtagBuilder(kws);
      // Tone-specific tweaks
      if (tone === "Romantic") hash.splice(0,0,"#LoveStory");
      if (tone === "Aesthetic") hash.splice(0,0,"#SoftFocus");
      if (tone === "Sarcastic") hash.splice(0,0,"#DramaRoyale");
      return hash;
    };

    const state = {
      styleSwitches: 0,
      captions: []
    };

    const renderCaptions = () => {
      const container = $("#captionsContainer");
      container.innerHTML = "";
      if (!state.captions.length) {
        container.innerHTML = `
          <div class="p-4 rounded-xl bg-slate-900/40 border border-white/10">
            <div class="text-slate-400 text-sm">No captions yet. Fill the form and generate!</div>
          </div>`;
        return;
      }
      state.captions.forEach((c, idx) => {
        const box = document.createElement("div");
        box.className = "p-4 rounded-xl bg-slate-900/40 border border-white/10";
        box.innerHTML = `
          <div class="flex items-start justify-between gap-3">
            <div>
              <div class="text-slate-300 font-semibold">#${idx+1}</div>
              <div class="mt-1">${c.caption}</div>
            </div>
            <div class="flex flex-col gap-2">
              <button class="btn btn-secondary text-sm copy-btn" data-index="${idx}">Copy</button>
              <button class="btn btn-secondary text-sm edit-btn" data-index="${idx}">Edit</button>
            </div>
          </div>
          <div class="flex flex-wrap gap-2 mt-3">
            ${c.hashtags.map(h => `<span class="tag">${h}</span>`).join("")}
          </div>
        `;
        container.appendChild(box);
      });

      $$(".copy-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const i = +e.currentTarget.dataset.index;
          navigator.clipboard.writeText(state.captions[i].caption);
          showToast("Copied caption " + (i+1) + " âœ“");
        });
      });
      $$(".edit-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const i = +e.currentTarget.dataset.index;
          const caption = prompt("Edit caption #" + (i+1), state.captions[i].caption);
          if (caption !== null) {
            state.captions[i].caption = caption;
            renderCaptions();
          }
        });
      });
    };

    const generateAll = () => {
      const keywords = $("#keywords").value.split(/[\n,]+/).map(s => s.trim()).filter(Boolean);
      const tone = $("#tone").value;
      const language = $("#language").value;
      const length = $("#length").value;

      const base = generateCaption(tone, language, keywords, length);
      const alt = generateCaption(tone, language, keywords, length);
      const alt2 = generateCaption(tone, language, keywords, length);

      // Style shuffle for variety
      const variants = [];
      for (let i = 0; i < 3; i++) {
        const kw = keywords[i % Math.max(1, keywords.length)] || "moment";
        const k2 = keywords[(i+1) % Math.max(1, keywords.length)] || "vibe";
        const s = generateCaption(tone, language, [kw, k2], length);
        variants.push(s);
      }

      state.captions = variants.map((cap, i) => ({
        caption: cap,
        hashtags: buildHashtags(keywords, tone, language)
      }));

      renderCaptions();
    };

    const showToast = (msg) => {
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 1500);
    };

    $("#genForm").addEventListener("submit", (e) => {
      e.preventDefault();
      generateAll();
    });

    $("#shuffleBtn").addEventListener("click", () => {
      state.styleSwitches++;
      // Randomly tweak tone or language for variety
      const tones = ["Funny","Motivational","Romantic","Aesthetic","Sarcastic","Inspirational"];
      const langs = ["English","Hindi","Spanish"];
      if (Math.random() > 0.5) {
        $("#tone").value = rand(tones);
      } else {
        $("#language").value = rand(langs);
      }
      generateAll();
      showToast("Style shuffled âœ¨");
    });

    $("#clearBtn").addEventListener("click", () => {
      $("#keywords").value = "";
      $("#captionsContainer").innerHTML = `
        <div class="p-4 rounded-xl bg-slate-900/40 border border-white/10">
          <div class="text-slate-400 text-sm">Cleared. Add keywords and generate again!</div>
        </div>`;
      state.captions = [];
    });

    $("#copyAllBtn").addEventListener("click", async () => {
      if (!state.captions.length) return showToast("No captions to copy");
      const text = state.captions.map((c, i) => `#${i+1} ${c.caption}\n${c.hashtags.join(" ")}\n`).join("\n");
      await navigator.clipboard.writeText(text);
      showToast("All captions copied âœ“");
    });

    $("#downloadBtn").addEventListener("click", () => {
      if (!state.captions.length) return showToast("Nothing to download");
      const content = state.captions.map((c, i) => `${i+1}. ${c.caption}\n${c.hashtags.join("\n")}`).join("\n\n");
      const blob = new Blob([content], { type: "text/plain;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "instagram-captions.txt";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast("Download started ðŸ“¥");
    });

    // Accessibility: Enter to generate
    $("#keywords").addEventListener("keydown", (e) => {
      if (e.key === "Enter" && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        generateAll();
      }
    });

    // Initialize with sample keywords
    $("#keywords").value = "coffee, sunset, travel, love";
  </script>
</body>
</html>